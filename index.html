<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VacExternal - Free Key (4h)</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            color-scheme: dark;
            --bg-base: #03040a;
            --bg-card: rgba(6, 10, 22, 0.9);
            --bg-card-strong: rgba(255, 255, 255, 0.05);
            --text-primary: #f4faff;
            --text-muted: #99a8c4;
            --brand: #357cff;
            --brand-alt: #6de7ff;
            --brand-blue: #92b8ff;
            --border: rgba(101, 130, 209, 0.2);
            --blur: blur(20px);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Space Grotesk', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: radial-gradient(circle at 20% 20%, rgba(53, 124, 255, 0.18), transparent 35%),
                        radial-gradient(circle at 80% 0%, rgba(109, 231, 255, 0.22), transparent 30%),
                        var(--bg-base);
            color: var(--text-primary);
            min-height: 100vh;
            padding: 40px 20px 80px;
            position: relative;
            overflow-x: hidden;
        }

        body::after {
            content: '';
            position: fixed;
            inset: 0;
            pointer-events: none;
            background-image: url('https://www.transparenttextures.com/patterns/asfalt-dark.png');
            opacity: 0.08;
        }

        body.overlay-active {
            overflow: hidden;
        }

        .nav {
            max-width: 1200px;
            margin: 0 auto 40px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 24px;
            border-radius: 20px;
            background: rgba(8, 8, 15, 0.7);
            border: 1px solid var(--border);
            backdrop-filter: blur(20px);
            position: relative;
            z-index: 1;
        }

        .brand {
            font-weight: 600;
            font-size: 18px;
            letter-spacing: 0.08em;
            text-transform: uppercase;
        }

        .nav-links {
            display: flex;
            gap: 18px;
            font-size: 14px;
            color: var(--text-muted);
        }

        .nav-links a {
            text-decoration: none;
            color: inherit;
            transition: color 0.3s ease;
        }

        .nav-links a:hover {
            color: var(--text-primary);
        }

        .discord-pill {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 10px 18px;
            border-radius: 999px;
            background: rgba(45, 45, 65, 0.85);
            border: 1px solid rgba(255, 255, 255, 0.08);
            color: var(--text-primary);
            text-decoration: none;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .discord-pill:hover {
            border-color: rgba(255, 255, 255, 0.35);
            box-shadow: 0 0 25px rgba(74, 165, 255, 0.3);
        }

        .page {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .hero {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 40px;
            margin-bottom: 50px;
        }

        .hero-content span.tag {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 18px;
            border-radius: 999px;
            background: linear-gradient(120deg, rgba(53, 124, 255, 0.18), rgba(109, 231, 255, 0.25));
            border: 1px solid rgba(146, 184, 255, 0.6);
            box-shadow: 0 10px 35px rgba(53, 124, 255, 0.25);
            font-size: 13px;
            color: var(--text-primary);
            margin-bottom: 24px;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            position: relative;
            overflow: hidden;
            animation: tagGlow 4s ease-in-out infinite;
        }

        .hero-content .tag .tag-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--brand-alt);
            box-shadow: 0 0 15px var(--brand-alt);
            animation: pulseDot 2.8s ease-in-out infinite;
        }

        .hero h1 {
            font-size: clamp(40px, 7vw, 64px);
            line-height: 1.05;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .hero h1 span {
            display: block;
        }

        .hero-highlight {
            color: var(--brand);
        }

        .swap-wrap {
            position: relative;
            min-height: 70px;
        }

        .hero-dynamic {
            color: var(--brand-alt);
            font-weight: 700;
            font-size: clamp(42px, 6vw, 56px);
            display: inline-flex;
            align-items: center;
            animation: pulseWord 3s ease-in-out infinite;
            position: relative;
            padding-right: 10px;
        }

        .hero-dynamic.swap-out {
            animation: fadeOut 0.4s forwards;
        }

        .hero-dynamic::after {
            content: '';
            position: absolute;
            width: 3px;
            height: 80%;
            top: 10%;
            right: -2px;
            background: linear-gradient(180deg, var(--brand-alt), var(--brand));
            border-radius: 999px;
            animation: blinkCaret 1s steps(1) infinite;
        }

        .hero p.lead {
            color: var(--text-muted);
            max-width: 520px;
            font-size: 18px;
            line-height: 1.6;
            margin-bottom: 32px;
        }

        .cta-row {
            display: flex;
            flex-wrap: wrap;
            gap: 16px;
        }

        .btn-primary,
        .btn-ghost {
            flex: 1;
            min-width: 200px;
            padding: 18px 24px;
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.12);
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: transform 0.25s ease, box-shadow 0.25s ease;
        }

        .btn-primary {
            background: linear-gradient(120deg, #357cff, #6de7ff);
            color: #03040a;
            box-shadow: 0 20px 40px rgba(53, 124, 255, 0.35);
        }

        .btn-ghost {
            background: rgba(255, 255, 255, 0.02);
            color: var(--text-primary);
            border-color: rgba(146, 184, 255, 0.3);
        }

        .btn-primary:hover,
        .btn-ghost:hover {
            transform: translateY(-4px) scale(1.01);
        }

        .hero-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 18px;
            margin-top: 30px;
        }

        .stat-card {
            padding: 18px;
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            background: rgba(255, 255, 255, 0.02);
            font-size: 15px;
            line-height: 1.4;
        }

        .stat-card strong {
            display: block;
            font-size: 26px;
            margin-bottom: 6px;
            color: var(--brand-alt);
        }

        .terminal-card {
            background: radial-gradient(circle at 20% 20%, rgba(15, 34, 70, 0.9), rgba(5, 8, 20, 0.92));
            padding: 20px;
            border-radius: 26px;
            border: 1px solid rgba(146, 184, 255, 0.35);
            box-shadow: 0 25px 70px rgba(4, 10, 30, 0.65);
            position: relative;
            overflow: hidden;
            min-height: 240px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            will-change: transform;
            transform-style: preserve-3d;
            --tiltX: 0deg;
            --tiltY: 0deg;
            --glowX: 50%;
            transform: perspective(1200px) rotateX(var(--tiltY)) rotateY(var(--tiltX));
        }

        .terminal-card::after {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at var(--glowX) 25%, rgba(86, 144, 255, 0.35), transparent 60%);
            pointer-events: none;
        }

        .terminal-card pre {
            font-family: 'Space Grotesk', monospace;
            font-size: 13px;
            color: #8cff8c;
            white-space: pre-wrap;
            position: relative;
            z-index: 2;
            line-height: 1.5;
            min-height: 180px;
            letter-spacing: 0.02em;
        }

        .experience-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin: 40px 0 60px;
        }

        .experience-card {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            padding: 22px;
            min-height: 185px;
            transition: transform 0.3s ease, border-color 0.3s ease;
        }

        .experience-card:hover {
            transform: translateY(-6px);
            border-color: rgba(255, 255, 255, 0.25);
        }

        .experience-card h4 {
            margin-bottom: 10px;
            font-size: 18px;
            color: var(--text-primary);
        }

        .experience-card p {
            color: var(--text-muted);
            font-size: 15px;
            line-height: 1.5;
        }

        .flow-shell {
            display: grid;
            grid-template-columns: minmax(0, 1fr);
            gap: 24px;
        }

        .step-panel {
            border-radius: 28px;
            padding: 30px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            background: rgba(4, 4, 8, 0.75);
            box-shadow: 0 25px 65px rgba(0, 0, 0, 0.55);
        }

        .step {
            display: none;
        }

        .step.active {
            display: block;
            animation: fadeSlide 0.4s ease;
        }

        .step-header {
            margin-bottom: 24px;
        }

        .step-tag {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 999px;
            font-size: 13px;
            color: var(--text-muted);
            margin-bottom: 10px;
        }

        .step-header h3 {
            font-size: 28px;
            margin-bottom: 12px;
        }

        .step-header p {
            color: var(--text-muted);
            line-height: 1.5;
        }

        .method-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 20px;
            margin-bottom: 24px;
        }

        .method-card {
            border-radius: 20px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            background: rgba(255, 255, 255, 0.02);
            display: flex;
            flex-direction: column;
            gap: 16px;
            transition: border-color 0.3s ease, transform 0.3s ease;
        }

        .method-card:hover {
            border-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-4px);
        }

        .method-card strong {
            font-size: 17px;
        }

        .method-meta {
            font-size: 14px;
            color: var(--text-muted);
            display: flex;
            justify-content: space-between;
        }

        .method-card button {
            border: none;
            border-radius: 14px;
            padding: 14px;
            color: #040405;
            font-weight: 600;
            cursor: pointer;
            font-size: 15px;
            transition: transform 0.3s ease;
        }

        .method-card button:hover {
            transform: translateY(-3px);
        }

        .method-card button.primary {
            background: linear-gradient(120deg, #357cff, #6de7ff);
        }

        .method-card button.secondary {
            background: linear-gradient(120deg, #1f3dff, #7f9bff);
            color: #03040a;
        }

        ul.step-list {
            list-style: none;
            display: grid;
            gap: 12px;
            margin-bottom: 10px;
        }

        ul.step-list li {
            padding-left: 28px;
            position: relative;
            color: var(--text-muted);
            line-height: 1.5;
        }

        ul.step-list li::before {
            content: '‚Ä¢';
            position: absolute;
            left: 8px;
            color: var(--brand-alt);
        }

        .loading {
            text-align: center;
            padding: 50px 10px;
        }

        .loading .spinner {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            border: 5px solid rgba(255, 255, 255, 0.12);
            border-top-color: var(--brand);
            margin: 0 auto 24px;
            animation: spin 1s linear infinite;
        }

        .loading p {
            color: var(--text-muted);
            font-size: 16px;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            border-radius: 999px;
            background: rgba(255, 255, 255, 0.08);
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #357cff, #6de7ff);
            transition: width 0.3s ease;
        }

        .key-display {
            border-radius: 24px;
            padding: 24px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.12);
            margin: 24px 0;
        }

        .key-text {
            font-family: 'Space Grotesk', monospace;
            font-size: 22px;
            padding: 20px;
            border-radius: 16px;
            background: rgba(10, 10, 18, 0.85);
            border: 1px dashed rgba(255, 255, 255, 0.25);
            text-align: center;
            color: var(--brand-alt);
        }

        .copy-btn {
            width: 100%;
            margin-top: 20px;
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.12);
            background: transparent;
            color: var(--text-primary);
            font-weight: 600;
            padding: 16px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .copy-btn:hover {
            background: rgba(255, 255, 255, 0.08);
        }

        footer {
            margin-top: 70px;
            text-align: center;
            color: var(--text-muted);
            font-size: 14px;
        }

        footer a {
            color: var(--brand-blue);
            text-decoration: none;
        }

        .captcha-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.75);
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(12px);
            z-index: 5;
            transition: opacity 0.35s ease;
        }

        .captcha-overlay.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .captcha-modal {
            width: min(420px, 90vw);
            border-radius: 28px;
            padding: 32px;
            background: rgba(8, 8, 14, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.07);
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.55);
            text-align: center;
        }

        .captcha-modal h2 {
            font-size: 26px;
            margin-bottom: 8px;
            color: var(--brand);
        }

        .captcha-modal p {
            color: var(--text-muted);
            margin-bottom: 20px;
        }

        #captchaStatus {
            font-size: 14px;
            margin-top: 14px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @keyframes fadeSlide {
            from { opacity: 0; transform: translateY(12px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulseWord {
            0%, 100% { text-shadow: 0 0 18px rgba(109, 231, 255, 0.35); }
            50% { text-shadow: 0 0 30px rgba(53, 124, 255, 0.8); }
        }

        @keyframes fadeOut {
            to { opacity: 0; transform: translateY(-8px); }
        }

        @keyframes tagGlow {
            0% { box-shadow: 0 10px 35px rgba(53, 124, 255, 0.2); }
            50% { box-shadow: 0 18px 45px rgba(109, 231, 255, 0.45); }
            100% { box-shadow: 0 10px 35px rgba(53, 124, 255, 0.2); }
        }

        @keyframes pulseDot {
            0%, 100% { transform: scale(1); opacity: 0.85; }
            50% { transform: scale(1.6); opacity: 0.4; }
        }

        @keyframes blinkCaret {
            0%, 60% { opacity: 1; }
            60.1%, 100% { opacity: 0; }
        }

        @media (max-width: 768px) {
            body {
                padding: 24px 16px 60px;
            }

            .nav {
                flex-direction: column;
                gap: 16px;
            }

            .cta-row {
                flex-direction: column;
            }

            .step-panel {
                padding: 22px;
            }
        }
    </style>
</head>
<body>
    <header class="nav">
        <div class="brand">VacExternal</div>
        <div class="nav-links">
            <a href="#metodos">M√©todos</a>
            <a href="#beneficios">Benef√≠cios</a>
            <a href="#suporte">Suporte</a>
        </div>
        <a class="discord-pill" href="https://discord.gg/vacexternal" target="_blank" rel="noopener">Discord Oficial ‚Üí</a>
    </header>

    <main class="page">
        <section class="hero" id="home">
            <div class="hero-content">
                <span class="tag"><span class="tag-dot"></span>Chaves gratuitas ‚Ä¢ 4h ou 8h ‚Ä¢ Dados protegidos</span>
                <h1>
                    <span class="hero-highlight">O melhor external</span>
                    <span class="swap-wrap"><span id="heroDynamicWord" class="hero-dynamic">desenvolvido por brasileiros</span></span>
                    <span>com experi√™ncia premium garantida.</span>
                </h1>
                <p class="lead">
                    Seguran√ßa com Cloudflare + hCaptcha, verifica√ß√£o humana obrigat√≥ria e gera√ß√£o autom√°tica
                    de key via Worker dedicado. Complete os links, volte para a p√°gina e receba sua licen√ßa
                    com um visual digno das refer√™ncias enviadas.
                </p>
                <div class="cta-row">
                    <button class="btn-primary" onclick="startWorkinkProcess()">üîó Work.ink ‚Ä¢ 2 links ‚Ä¢ 4h</button>
                    <button class="btn-ghost" onclick="startLinkvertiseProcess()">üåê Linkvertise ‚Ä¢ 1 link ‚Ä¢ 8h</button>
                </div>
                <div class="hero-stats">
                    <div class="stat-card">
                        <strong>4h</strong>
                        Free key Work.ink
                    </div>
                    <div class="stat-card">
                        <strong>8h</strong>
                        Free key Linkvertise
                    </div>
                    <div class="stat-card">
                        <strong>0 flags</strong>
                        Blindagem anti-cheat Roblox
                    </div>
                </div>
            </div>
            <div class="terminal-card">
                <pre id="terminalCode"></pre>
            </div>
        </section>

        <section class="experience-grid" id="beneficios">
            <article class="experience-card">
                <h4>Seguran√ßa</h4>
                <p>Controle total das keys, tokens √∫nicos e registros criptografados evitam vazamentos e bots.</p>
            </article>
            <article class="experience-card">
                <h4>Estabilidade</h4>
                <p>Worker dedicado roda 24/7; se os links abrirem, sua licen√ßa volta com a mesma fluidez.</p>
            </article>
            <article class="experience-card">
                <h4>Confian√ßa</h4>
                <p>Equipe presente no Discord para validar d√∫vidas e liberar chaves extras quando necess√°rio.</p>
            </article>
            <article class="experience-card">
                <h4>Extrema qualidade</h4>
                <p>Melhores fun√ß√µes, diferentes jogos suportados.</p>
            </article>
        </section>

        <section class="flow-shell" id="metodos">
            <div class="step-panel">
                <div id="step1" class="step active">
                    <div class="step-header">
                        <span class="step-tag">Passo inicial</span>
                        <h3>Escolha como liberar sua key</h3>
                        <p>Resolva o captcha, selecione o m√©todo e complete as p√°ginas monetizadas. Todo o resto n√≥s cuidamos.</p>
                    </div>
                    <div class="method-grid">
                        <article class="method-card">
                            <strong>Work.ink ‚Ä¢ 2 links r√°pidos</strong>
                            <div class="method-meta">
                                <span>üïí 4 horas de acesso</span>
                                <span>Tempo m√©dio 5 min</span>
                            </div>
                            <button class="primary" onclick="startWorkinkProcess()">Come√ßar Work.ink</button>
                        </article>
                        <article class="method-card">
                            <strong>Linkvertise ‚Ä¢ 1 p√°gina completa</strong>
                            <div class="method-meta">
                                <span>üïí 8 horas de acesso</span>
                                <span>Tempo m√©dio 1 h</span>
                            </div>
                            <button class="secondary" onclick="startLinkvertiseProcess()">Come√ßar Linkvertise</button>
                        </article>
                    </div>
                    <ul class="step-list">
                        <li>N√£o feche esta aba; retornaremos automaticamente ap√≥s cada link.</li>
                        <li>Work.ink expira em 20 minutos; Linkvertise oferece at√© 1 hora para concluir.</li>
                        <li>O captcha precisa estar verde antes de abrir qualquer link.</li>
                    </ul>
                </div>

                <div id="step2" class="step">
                    <div class="step-header">
                        <span class="step-tag">Work.ink ‚Ä¢ Passo 1</span>
                        <h3>Complete o primeiro link</h3>
                        <p>Aguarde o redirecionamento autom√°tico. Se o navegador bloquear pop-ups, permita.</p>
                    </div>
                    <div class="progress-bar"><div class="progress-fill" style="width:50%;"></div></div>
                    <div class="loading">
                        <div class="spinner"></div>
                        <p>Enviando voc√™ ao Work.ink #1...</p>
                    </div>
                </div>

                <div id="step3" class="step">
                    <div class="step-header">
                        <span class="step-tag">Work.ink ‚Ä¢ Passo 2</span>
                        <h3>S√≥ falta o segundo link</h3>
                        <p>Finalize a segunda p√°gina e voc√™ volta direto para a gera√ß√£o da licen√ßa.</p>
                    </div>
                    <div class="progress-bar"><div class="progress-fill" style="width:100%;"></div></div>
                    <div class="loading">
                        <div class="spinner"></div>
                        <p>Abrindo Work.ink #2 automaticamente...</p>
                    </div>
                </div>

                <div id="step4" class="step">
                    <div class="step-header">
                        <span class="step-tag">Linkvertise</span>
                        <h3>Complete o √∫nico link</h3>
                        <p>Assim que a p√°gina liberar o bot√£o final, voc√™ retornar√° aqui com a hash validada.</p>
                    </div>
                    <div class="loading">
                        <div class="spinner"></div>
                        <p>Redirecionando para o Linkvertise...</p>
                    </div>
                </div>

                <div id="step5" class="step">
                    <div class="step-header">
                        <span class="step-tag">KeyAuth</span>
                        <h3>Criando sua licen√ßa segura</h3>
                        <p>Validando token, captcha e hash. Pode levar alguns segundos.</p>
                    </div>
                    <div class="loading">
                        <div class="spinner"></div>
                        <p>Criando licen√ßa no KeyAuth...</p>
                    </div>
                </div>

                <div id="step6" class="step">
                    <div class="step-header">
                        <span class="step-tag">Pronto!</span>
                        <h3>Key liberada com sucesso</h3>
                        <p>Copie abaixo e use no VacExternal (Op√ß√£o 4 ‚Äî Free Version).</p>
                    </div>
                    <div class="key-display">
                        <div class="key-text" id="generatedKey">Gerando...</div>
                        <button class="copy-btn" onclick="copyKey()">üìã Copiar Key</button>
                    </div>
                    <ul class="step-list">
                        <li>Abra o VacExternal.exe e selecione <strong>[4] Free Version</strong>.</li>
                        <li>Cole a key exatamente como recebeu.</li>
                        <li>Ao expirar, volte e gere novamente seguindo o fluxo.</li>
                    </ul>
                    <p id="keyDurationMessage" style="text-align:center;margin-top:20px;font-weight:600;color:var(--brand-alt);">
                        ‚è∞ Dura√ß√£o ser√° mostrada aqui
                    </p>
                </div>
            </div>
        </section>

        <footer id="suporte">
            <p><strong>VacExternal</strong> ¬© 2025 ‚Ä¢ Todos os direitos reservados</p>
            <p>Suporte oficial: <a href="https://discord.gg/vacexternal" target="_blank" rel="noopener">discord.gg/vacexternal</a></p>
        </footer>
    </main>

    <div class="captcha-overlay" id="captchaOverlay">
        <div class="captcha-modal">
            <p style="letter-spacing:0.24em;text-transform:uppercase;font-size:12px;color:var(--text-muted);">VacExternal Security Layer</p>
            <h2>Verifica√ß√£o de Seguran√ßa</h2>
            <p>Por favor, complete a verifica√ß√£o humana para continuar.</p>
            <div id="captchaContainer" data-sitekey="2714a6d4-341a-4622-b80c-e014f06c761e"></div>
            <p id="captchaStatus">Carregando hCaptcha...</p>
        </div>
    </div>

    <script>
        const heroWords = [
            'desenvolvido por brasileiros',
            'com suporte e updates di√°rios',
            'para quem exige seguran√ßa total'
        ];
        const heroWordElement = document.getElementById('heroDynamicWord');
        let heroWordIndex = 0;
        let heroCharIndex = 0;
        let heroTypingForward = true;
        const HERO_TYPE_SPEED = 70;
        const HERO_DELETE_SPEED = 35;
        const HERO_HOLD_DELAY = 1400;

        function handleHeroTyping() {
            if (!heroWordElement) {
                return;
            }

            const currentWord = heroWords[heroWordIndex];

            if (heroTypingForward) {
                heroCharIndex++;
                heroWordElement.textContent = currentWord.slice(0, heroCharIndex);

                if (heroCharIndex === currentWord.length) {
                    heroTypingForward = false;
                    setTimeout(handleHeroTyping, HERO_HOLD_DELAY);
                    return;
                }

                setTimeout(handleHeroTyping, HERO_TYPE_SPEED);
            } else {
                heroCharIndex--;
                heroWordElement.textContent = currentWord.slice(0, Math.max(heroCharIndex, 0));

                if (heroCharIndex <= 0) {
                    heroTypingForward = true;
                    heroWordIndex = (heroWordIndex + 1) % heroWords.length;
                    setTimeout(handleHeroTyping, HERO_TYPE_SPEED);
                    return;
                }

                setTimeout(handleHeroTyping, HERO_DELETE_SPEED);
            }
        }

        if (heroWordElement) {
            heroWordElement.textContent = '';
            setTimeout(handleHeroTyping, 400);
        }

        const terminalSnippet = [
            '#include <iostream>',
            '#include "VacExternalLab.hpp"',
            '',
            'int main() {',
            '    VacExternal::Lab lab;',
            '    lab.SetRegion("BR");',
            '    lab.EnableAntiCheat({"hCaptcha", "hashes"});',
            '    auto key = lab.GenerateFreeKey({',
            '        .duration = VacExternal::Pick({"4h", "8h"}),',
            '        .secure = true',
            '    });',
            '    std::cout << "key => " << key << std::endl;',
            '    return 0;',
            '}'
        ].join('\n');

        const terminalElement = document.getElementById('terminalCode');
        let terminalCharIndex = 0;
        let terminalTypingForward = true;
        const TERMINAL_TYPE_SPEED = 38;
        const TERMINAL_DELETE_SPEED = 22;
        const TERMINAL_HOLD_DELAY = 1600;

        function handleTerminalTyping() {
            if (!terminalElement) {
                return;
            }

            if (terminalTypingForward) {
                terminalCharIndex++;
                terminalElement.textContent = terminalSnippet.slice(0, terminalCharIndex);

                if (terminalCharIndex === terminalSnippet.length) {
                    terminalTypingForward = false;
                    setTimeout(handleTerminalTyping, TERMINAL_HOLD_DELAY);
                    return;
                }

                const delayBoost = terminalSnippet.charAt(terminalCharIndex - 1) === '\n' ? 120 : 0;
                setTimeout(handleTerminalTyping, TERMINAL_TYPE_SPEED + delayBoost);
            } else {
                terminalCharIndex--;
                terminalElement.textContent = terminalSnippet.slice(0, Math.max(terminalCharIndex, 0));

                if (terminalCharIndex <= 0) {
                    terminalTypingForward = true;
                    setTimeout(handleTerminalTyping, 500);
                    return;
                }

                setTimeout(handleTerminalTyping, TERMINAL_DELETE_SPEED);
            }
        }

        if (terminalElement) {
            setTimeout(handleTerminalTyping, 600);
        }

        const METHOD_DEADLINES = {
            workink: 20 * 60 * 1000,
            linkvertise: 60 * 60 * 1000
        };

        const METHOD_LABELS = {
            workink: '20 minutos',
            linkvertise: '1 hora'
        };

        const WORKER_URL = "https://vacexternal-keys.outlier872.workers.dev";
        const WORKINK_LINK_1 = "https://work.ink/28kn/vacexternal-4h-key";
        const WORKINK_LINK_2 = "https://work.ink/28kn/vacexternal-get-key";
        const LINKVERTISE_LINK = "https://link-center.net/1209215/Z30kIRzDxVHY";
        const captchaStatusElement = document.getElementById('captchaStatus');
        const captchaOverlayElement = document.getElementById('captchaOverlay');
        let captchaWidgetId = null;
        let captchaToken = null;
        let captchaResolvers = [];
        let captchaReady = false;
        let captchaReadyResolvers = [];

        function toggleCaptchaOverlay(visible) {
            if (!captchaOverlayElement) {
                return;
            }
            captchaOverlayElement.classList.toggle('hidden', !visible);
            document.body.classList.toggle('overlay-active', visible);
        }

        toggleCaptchaOverlay(true);

        function setProcessDeadline(method) {
            const duration = METHOD_DEADLINES[method] || METHOD_DEADLINES.workink;
            sessionStorage.setItem('token_deadline', (Date.now() + duration).toString());
        }

        function updateCaptchaStatus(message, color = '#cfcfcf') {
            if (captchaStatusElement) {
                captchaStatusElement.textContent = message;
                captchaStatusElement.style.color = color;
            }
        }

        function flushCaptchaResolvers(token) {
            captchaResolvers.forEach(resolve => resolve(token));
            captchaResolvers = [];
        }

        function waitForCaptchaReady() {
            if (captchaReady && window.hcaptcha) {
                return Promise.resolve();
            }
            return new Promise(resolve => {
                captchaReadyResolvers.push(resolve);
            });
        }

        async function demandCaptchaToken(forceRefresh = false) {
            if (!captchaReady || !window.hcaptcha) {
                await waitForCaptchaReady();
            }

            if (forceRefresh && window.hcaptcha && captchaWidgetId !== null) {
                window.hcaptcha.reset(captchaWidgetId);
                captchaToken = null;
            }

            if (captchaToken) {
                return captchaToken;
            }

            return new Promise(resolve => {
                captchaResolvers.push(resolve);
                updateCaptchaStatus('Resolva o captcha para liberar a key gratuita.', '#ff8c00');
                toggleCaptchaOverlay(true);
            });
        }

        function invalidateCaptchaToken() {
            captchaToken = null;
            if (window.hcaptcha && captchaWidgetId !== null) {
                window.hcaptcha.reset(captchaWidgetId);
            }
            updateCaptchaStatus('Resolva o captcha novamente para gerar outra key.');
            toggleCaptchaOverlay(true);
        }

        function ensureCaptchaSolved() {
            if (captchaToken) {
                return true;
            }
            updateCaptchaStatus('‚ö†Ô∏è Complete o captcha antes de continuar.', '#ff6666');
            toggleCaptchaOverlay(true);
            return false;
        }

        function onCaptchaSuccess(token) {
            captchaToken = token;
            updateCaptchaStatus('‚úÖ Captcha validado. Assim que retornar dos links, aguardaremos esta valida√ß√£o.', '#00ffaa');
            flushCaptchaResolvers(token);
            toggleCaptchaOverlay(false);
        }

        function onCaptchaError() {
            captchaToken = null;
            updateCaptchaStatus('Captcha falhou. Recarregue e tente novamente.', '#ff6666');
            toggleCaptchaOverlay(true);
        }

        function onCaptchaExpired() {
            captchaToken = null;
            updateCaptchaStatus('Captcha expirou. Resolva novamente antes de gerar a key.', '#ff8c00');
            toggleCaptchaOverlay(true);
        }

        window.onHCaptchaLoad = function() {
            const container = document.getElementById('captchaContainer');
            if (!container) {
                return;
            }

            const siteKey = container.dataset.sitekey || '';
            if (!siteKey || siteKey.includes('REPLACE')) {
                updateCaptchaStatus('Defina o site key do hCaptcha no HTML antes de publicar o site.', '#ff6666');
                return;
            }

            captchaWidgetId = hcaptcha.render('captchaContainer', {
                sitekey: siteKey,
                callback: onCaptchaSuccess,
                'error-callback': onCaptchaError,
                'expired-callback': onCaptchaExpired
            });

            captchaReady = true;
            captchaReadyResolvers.forEach(resolve => resolve());
            captchaReadyResolvers = [];
            updateCaptchaStatus('Resolva o captcha antes de abrir os links. Sem isso a key n√£o √© liberada.');
        };

        function generateToken() {
            return 'tok_' + Date.now() + '_' + Math.random().toString(36).substring(2, 15);
        }

        function startWorkinkProcess() {
            if (!ensureCaptchaSolved()) {
                return;
            }
            const token = generateToken();
            sessionStorage.setItem('workink_token', token);
            sessionStorage.setItem('key_method', 'workink');
            sessionStorage.setItem('workink_step', '1');
            setProcessDeadline('workink');
            console.log('üé´ Token gerado (Workink):', token.substring(0, 20) + '...');
            showStep(2);
            setTimeout(() => {
                window.location.href = WORKINK_LINK_1 + '?redirect=' + encodeURIComponent(window.location.origin + window.location.pathname + '?completed=step1');
            }, 1800);
        }

        function startLinkvertiseProcess() {
            if (!ensureCaptchaSolved()) {
                return;
            }
            const token = generateToken();
            sessionStorage.setItem('workink_token', token);
            sessionStorage.setItem('key_method', 'linkvertise');
            setProcessDeadline('linkvertise');
            console.log('üé´ Token gerado (Linkvertise):', token.substring(0, 20) + '...');
            showStep(4);
            setTimeout(() => {
                window.location.href = LINKVERTISE_LINK;
            }, 1800);
        }

        async function generateKey() {
            try {
                const token = sessionStorage.getItem('workink_token');
                const method = sessionStorage.getItem('key_method');
                const deadlineRaw = sessionStorage.getItem('token_deadline');
                const linkvertiseHash = sessionStorage.getItem('linkvertise_hash');

                if (!token) {
                    alert('‚ùå Token expirou ou n√£o foi gerado corretamente.\n\nReinicie o processo.');
                    showStep(1);
                    return null;
                }

                const deadline = deadlineRaw ? parseInt(deadlineRaw, 10) : null;
                if (deadline && Date.now() > deadline) {
                    const label = METHOD_LABELS[method] || '20 minutos';
                    alert('‚è∞ O processo ultrapassou o limite de ' + label + '.\n\nComece novamente.');
                    sessionStorage.clear();
                    showStep(1);
                    return null;
                }

                const captchaProof = await demandCaptchaToken(false);
                const requestBody = {
                    token: token,
                    method: method,
                    captchaToken: captchaProof
                };

                if (linkvertiseHash) {
                    requestBody.linkvertiseHash = linkvertiseHash;
                }

                const response = await fetch(WORKER_URL + '/generate-key', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(requestBody)
                });

                const data = await response.json();

                if (data.success) {
                    sessionStorage.clear();
                    return data.key;
                }

                if (response.status === 429) {
                    alert('‚è∞ Voc√™ j√° gerou uma key recentemente!\n\n' + data.error);
                } else if (response.status === 403) {
                    alert('üö´ ' + data.error + '\n\nComplete o processo novamente.');
                } else {
                    alert('‚ùå Erro: ' + data.error);
                }
                return null;
            } catch (error) {
                alert('‚ùå Erro ao conectar com o servidor!\n\nDetalhes: ' + error.message);
                return null;
            } finally {
                invalidateCaptchaToken();
            }
        }

        window.addEventListener('load', async function() {
            const urlParams = new URLSearchParams(window.location.search);
            const completed = urlParams.get('completed');
            const linkvertiseHash = urlParams.get('hash');

            console.log('üåê P√°gina carregada!');
            console.log('üîç Completed:', completed);
            console.log('üîç Linkvertise Hash:', linkvertiseHash ? linkvertiseHash.substring(0, 20) + '...' : 'Nenhum');

            if (completed === 'step1') {
                const method = sessionStorage.getItem('key_method');
                if (method === 'workink') {
                    console.log('‚úÖ Step 1 completo, indo para Step 2...');
                    sessionStorage.setItem('workink_step', '2');
                    showStep(3);
                    setTimeout(() => {
                        window.location.href = WORKINK_LINK_2 + '?redirect=' + encodeURIComponent(window.location.origin + window.location.pathname + '?completed=step2');
                    }, 1800);
                }
            } else if (completed === 'step2') {
                const hasToken = sessionStorage.getItem('workink_token');

                if (!hasToken) {
                    console.error('‚ùå Token n√£o encontrado!');
                    alert('‚ùå Erro: Token n√£o encontrado!\n\nTente novamente em uma janela normal do navegador.');
                    showStep(1);
                    return;
                }

                console.log('‚úÖ Workink completo! Gerando key de 4 horas...');
                showStep(5);
                updateCaptchaStatus('Resolva o captcha novamente para liberar sua key.', '#ff8c00');
                const methodUsed = sessionStorage.getItem('key_method') || 'workink';
                invalidateCaptchaToken();

                const key = await generateKey();

                if (key) {
                    console.log('üéâ Key de 4h gerada com sucesso!');
                    document.getElementById('generatedKey').textContent = key;
                    updateDurationMessage(methodUsed);
                    showStep(6);
                } else {
                    console.error('‚ùå Falha ao gerar key!');
                    showStep(1);
                }
            } else if (linkvertiseHash) {
                const hasToken = sessionStorage.getItem('workink_token');

                if (!hasToken) {
                    console.error('‚ùå Token n√£o encontrado!');
                    alert('‚ùå Erro: Token n√£o encontrado!\n\nTente novamente.');
                    showStep(1);
                    return;
                }

                console.log('‚úÖ Linkvertise completo! Hash recebido, gerando key de 8 horas...');
                sessionStorage.setItem('linkvertise_hash', linkvertiseHash);
                showStep(5);
                updateCaptchaStatus('Resolva o captcha novamente para liberar sua key.', '#ff8c00');
                const methodUsed = sessionStorage.getItem('key_method') || 'linkvertise';
                invalidateCaptchaToken();

                const key = await generateKey();

                if (key) {
                    console.log('üéâ Key de 8h gerada com sucesso!');
                    document.getElementById('generatedKey').textContent = key;
                    updateDurationMessage(methodUsed);
                    showStep(6);
                } else {
                    console.error('‚ùå Falha ao gerar key!');
                    showStep(1);
                }
            } else {
                console.log('‚ÑπÔ∏è Usu√°rio na p√°gina inicial');
                sessionStorage.clear();
            }
        });

        function copyKey() {
            const keyText = document.getElementById('generatedKey').textContent;
            navigator.clipboard.writeText(keyText).then(() => {
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = '‚úÖ Copiado!';
                btn.style.background = 'linear-gradient(120deg, #00ff7f, #00c853)';
                btn.style.borderColor = 'rgba(0, 255, 127, 0.6)';
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = 'transparent';
                    btn.style.borderColor = 'rgba(255, 255, 255, 0.12)';
                }, 2500);
            }).catch(() => {
                alert('Erro ao copiar. Selecione e copie manualmente: ' + keyText);
            });
        }

        function updateDurationMessage(method) {
            const durationMsg = document.getElementById('keyDurationMessage');
            if (!durationMsg) {
                return;
            }
            if (method === 'linkvertise') {
                durationMsg.textContent = '‚è∞ Esta licen√ßa vale por 8 horas a partir da ativa√ß√£o.';
                durationMsg.style.color = '#4aa5ff';
            } else {
                durationMsg.textContent = '‚è∞ Esta licen√ßa vale por 4 horas a partir da ativa√ß√£o.';
                durationMsg.style.color = '#ff8c00';
            }
        }

        function showStep(stepNumber) {
            document.querySelectorAll('.step').forEach(step => {
                step.classList.remove('active');
            });
            const target = document.getElementById('step' + stepNumber);
            if (target) {
                target.classList.add('active');
                target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        const terminalCard = document.querySelector('.terminal-card');
        if (terminalCard) {
            const tiltCard = (event) => {
                const rect = terminalCard.getBoundingClientRect();
                const percentX = (event.clientX - rect.left) / rect.width;
                const percentY = (event.clientY - rect.top) / rect.height;
                const tiltX = (percentX - 0.5) * 16; // rotateY
                const tiltY = (0.5 - percentY) * 12; // rotateX
                terminalCard.style.setProperty('--tiltX', tiltX.toFixed(2) + 'deg');
                terminalCard.style.setProperty('--tiltY', tiltY.toFixed(2) + 'deg');
                terminalCard.style.setProperty('--glowX', Math.round(percentX * 100) + '%');
                terminalCard.style.boxShadow = '0 40px 110px rgba(8, 12, 32, 0.78)';
            };

            const resetTilt = () => {
                terminalCard.style.setProperty('--tiltX', '0deg');
                terminalCard.style.setProperty('--tiltY', '0deg');
                terminalCard.style.setProperty('--glowX', '50%');
                terminalCard.style.boxShadow = '0 25px 70px rgba(4, 10, 30, 0.65)';
            };

            terminalCard.addEventListener('pointermove', tiltCard);
            terminalCard.addEventListener('pointerleave', resetTilt);
            terminalCard.addEventListener('pointerup', resetTilt);
        }
    </script>
    <script src="https://js.hcaptcha.com/1/api.js?render=explicit&onload=onHCaptchaLoad" async defer></script>
</body>
</html>
